# Phase 2 æ¶æ„è¯´æ˜

## ğŸ“ ç³»ç»Ÿæ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           Streamlit Web UI (Browser)            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚  é¦–é¡µ    â”‚  â”‚ æ¯æ—¥é€‰è‚¡ â”‚  â”‚  æ¨¡æ‹Ÿç›˜  â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â–²
                      â”‚ Streamlit API
                      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              UI Components Layer                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚ stock_table  â”‚    â”‚portfolio_chartâ”‚          â”‚
â”‚  â”‚ (è¡¨æ ¼ç»„ä»¶)   â”‚    â”‚ (å›¾è¡¨ç»„ä»¶)    â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â–²
                      â”‚ Python Import
                      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Backend Logic Layer                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚  â”‚selector_api  â”‚  â”‚data_access   â”‚            â”‚
â”‚  â”‚(é€‰è‚¡å°è£…)    â”‚  â”‚(æ•°æ®è®¿é—®)    â”‚            â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚  â”‚portfolio_mgr â”‚  â”‚config        â”‚            â”‚
â”‚  â”‚(æŒä»“ç®¡ç†)    â”‚  â”‚(é…ç½®ç®¡ç†)    â”‚            â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â–²
                      â”‚ Direct Import (é›¶ä¿®æ”¹)
                      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          Existing Scripts (Phase 0-6)            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚  â”‚hs300_selectorâ”‚  â”‚batch_downloadâ”‚            â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚  â”‚akshare-conv  â”‚  â”‚phase6d_test  â”‚            â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â–²
                      â”‚ Data Access
                      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Data Storage Layer                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚  â”‚data/cache/   â”‚  â”‚data/daily/   â”‚            â”‚
â”‚  â”‚(HS300ç¼“å­˜)   â”‚  â”‚(é€‰è‚¡ç»“æœ)    â”‚            â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚  â”‚data/portfolioâ”‚  â”‚~/.qlib/      â”‚            â”‚
â”‚  â”‚(è™šæ‹ŸæŒä»“)    â”‚  â”‚(è‚¡ç¥¨æ•°æ®)    â”‚            â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ—‚ï¸ ç›®å½•ç»“æ„

```
Stock/
â”œâ”€â”€ app.py                          # Streamlitä¸»å…¥å£ï¼ˆé¦–é¡µï¼‰
â”œâ”€â”€ pages/                          # å¤šé¡µé¢åº”ç”¨
â”‚   â”œâ”€â”€ 1_ğŸ“Š_æ¯æ—¥é€‰è‚¡.py
â”‚   â””â”€â”€ 2_ğŸ’¼_æ¨¡æ‹Ÿç›˜.py
â”‚
â”œâ”€â”€ backend/                        # åç«¯ä¸šåŠ¡é€»è¾‘å±‚
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ config.py                  # ç»Ÿä¸€é…ç½®ï¼ˆè·¯å¾„ã€å‚æ•°ï¼‰
â”‚   â”œâ”€â”€ selector_api.py            # é€‰è‚¡APIå°è£…
â”‚   â”œâ”€â”€ portfolio_manager.py       # è™šæ‹ŸæŒä»“ç®¡ç†
â”‚   â””â”€â”€ data_access.py             # æ•°æ®è®¿é—®ç»Ÿä¸€æ¥å£
â”‚
â”œâ”€â”€ components/                     # UIç»„ä»¶å±‚
â”‚   â”œâ”€â”€ stock_table.py             # è‚¡ç¥¨è¡¨æ ¼ç»„ä»¶
â”‚   â””â”€â”€ portfolio_chart.py         # æ”¶ç›Šå›¾è¡¨ç»„ä»¶
â”‚
â”œâ”€â”€ scripts/                        # åŸæœ‰è„šæœ¬ï¼ˆé›¶ä¿®æ”¹ï¼‰
â”‚   â”œâ”€â”€ hs300_selector.py          # é€‰è‚¡è„šæœ¬
â”‚   â”œâ”€â”€ batch_download.py          # æ‰¹é‡ä¸‹è½½
â”‚   â”œâ”€â”€ akshare-to-qlib-converter.py
â”‚   â””â”€â”€ phase6d_backtest.py
â”‚
â”œâ”€â”€ utils/                          # å·¥å…·å‡½æ•°
â”‚   â””â”€â”€ io.py                      # JSON/Gitå·¥å…·
â”‚
â”œâ”€â”€ data/                           # æ•°æ®ç›®å½•ï¼ˆæ–°å¢ï¼Œç»Ÿä¸€ç®¡ç†ï¼‰
â”‚   â”œâ”€â”€ cache/                     # ç¼“å­˜
â”‚   â”‚   â””â”€â”€ hs300_constituents.json
â”‚   â”œâ”€â”€ daily/                     # æ¯æ—¥é€‰è‚¡ç»“æœ
â”‚   â”‚   â”œâ”€â”€ 2025-01-15/
â”‚   â”‚   â”‚   â””â”€â”€ selection.json
â”‚   â”‚   â””â”€â”€ latest.json â†’ è½¯é“¾æ¥
â”‚   â””â”€â”€ portfolio/                 # æŒä»“æ•°æ®
â”‚       â”œâ”€â”€ virtual.json           # æŒä»“çŠ¶æ€
â”‚       â””â”€â”€ trades.jsonl           # äº¤æ˜“æ—¥å¿—
â”‚
â”œâ”€â”€ results/                        # å†å²ç»“æœç›®å½•ï¼ˆå‘åå…¼å®¹ï¼‰
â”œâ”€â”€ requirements_streamlit.txt      # Web UIä¾èµ–
â”œâ”€â”€ test_streamlit_backend.py       # åç«¯æµ‹è¯•
â”œâ”€â”€ QUICK_START_STREAMLIT.md        # ä½¿ç”¨æ–‡æ¡£
â”œâ”€â”€ DEPLOY_CHECKLIST.md             # éƒ¨ç½²æ¸…å•
â””â”€â”€ ARCHITECTURE_PHASE2.md          # æœ¬æ–‡æ¡£
```

## ğŸ”— æ•°æ®æµ

### 1. é€‰è‚¡æµç¨‹

```
ç”¨æˆ·æ“ä½œ (Streamlit)
    â–¼
pages/1_ğŸ“Š_æ¯æ—¥é€‰è‚¡.py
    â–¼
backend/selector_api.get_daily_selection()
    â–¼
scripts/hs300_selector.py (å¤ç”¨)
    â”œâ”€â”€ fetch_hs300_constituents()
    â”œâ”€â”€ filter_by_momentum()
    â””â”€â”€ allocate_equal_weight()
    â–¼
data/daily/YYYY-MM-DD/selection.json
    â–¼
backend/data_access.get_latest_selection()
    â–¼
Streamlit UI å±•ç¤º
```

### 2. å†å¹³è¡¡æµç¨‹

```
ç”¨æˆ·æ“ä½œ (Streamlit)
    â–¼
pages/2_ğŸ’¼_æ¨¡æ‹Ÿç›˜.py
    â–¼
backend/portfolio_manager.rebalance()
    â”œâ”€â”€ 1. æ¸…ä»“æ‰€æœ‰æŒä»“ (sell)
    â”œâ”€â”€ 2. æ ¹æ®æœ€æ–°é€‰è‚¡ä¹°å…¥ (buy)
    â””â”€â”€ 3. è®°å½•äº¤æ˜“æ—¥å¿—
    â–¼
data/portfolio/
    â”œâ”€â”€ virtual.json (æ›´æ–°)
    â””â”€â”€ trades.jsonl (è¿½åŠ )
    â–¼
backend/data_access.get_portfolio_stats()
    â–¼
Streamlit UI å±•ç¤º
```

### 3. æ•°æ®è¯»å–æµç¨‹

```
Streamlité¡µé¢è¯·æ±‚
    â–¼
backend/data_access.DataAccess
    â”œâ”€â”€ get_latest_selection() â†’ data/daily/latest.json
    â”œâ”€â”€ get_selection_history() â†’ data/daily/*/selection.json
    â”œâ”€â”€ get_portfolio_stats() â†’ backend/portfolio_manager
    â””â”€â”€ get_trade_history() â†’ data/portfolio/trades.jsonl
    â–¼
components/stock_table / portfolio_chart
    â–¼
Streamlitæ¸²æŸ“
```

## ğŸ§© æ¨¡å—èŒè´£

### Backend Layer

**config.py**:
- è·¯å¾„é…ç½®ï¼ˆDATA_DIR, CACHE_DIR, DAILY_DIR, PORTFOLIO_DIRï¼‰
- ç³»ç»Ÿå‚æ•°ï¼ˆDEFAULT_BUDGET, DEFAULT_TOP_N, DEFAULT_MOMENTUM_THRESHOLDï¼‰
- å·¥å…·å‡½æ•°ï¼ˆget_daily_path, create_latest_linkï¼‰

**selector_api.py**:
- `get_daily_selection()`: ä¸»APIï¼Œè¿”å›é€‰è‚¡ç»“æœ
- `suppress_prints()`: ä¸Šä¸‹æ–‡ç®¡ç†å™¨ï¼Œå±è”½printè¾“å‡º
- `get_top_candidates()`: æå–Topå€™é€‰
- `get_allocation_summary()`: è·å–ä»“ä½æ‘˜è¦
- `detect_changes()`: æ£€æµ‹å€™é€‰å˜åŒ–

**portfolio_manager.py**:
- `VirtualPortfolio`: è™šæ‹ŸæŒä»“ç±»
  - `buy()`: ä¹°å…¥è‚¡ç¥¨
  - `sell()`: å–å‡ºè‚¡ç¥¨
  - `rebalance()`: æœˆåº¦å†å¹³è¡¡
  - `get_stats()`: è·å–æŒä»“ç»Ÿè®¡
  - `get_trade_history()`: è·å–äº¤æ˜“å†å²

**data_access.py**:
- `DataAccess`: æ•°æ®è®¿é—®ç»Ÿä¸€æ¥å£
  - `get_latest_selection()`: è·å–æœ€æ–°é€‰è‚¡
  - `get_selection_history()`: è·å–å†å²é€‰è‚¡
  - `get_portfolio_stats()`: è·å–æŒä»“ç»Ÿè®¡
  - `get_trade_history()`: è·å–äº¤æ˜“å†å²
  - `get_summary_stats()`: è·å–ç³»ç»Ÿæ‘˜è¦

### UI Components Layer

**stock_table.py**:
- `render_selection_table()`: å€™é€‰è‚¡ç¥¨è¡¨æ ¼
- `render_portfolio_table()`: æŒä»“è¡¨æ ¼
- `render_trade_history_table()`: äº¤æ˜“å†å²è¡¨æ ¼
- `render_unaffordable_table()`: ä¸å¯è´Ÿæ‹…è‚¡ç¥¨è¡¨æ ¼

**portfolio_chart.py**:
- `render_pnl_chart()`: æ”¶ç›Šç‡æ›²çº¿
- `render_value_chart()`: å¸‚å€¼å˜åŒ–æ›²çº¿
- `render_position_pie_chart()`: æŒä»“åˆ†å¸ƒå›¾
- `render_summary_metrics()`: æ‘˜è¦æŒ‡æ ‡å¡ç‰‡
- `render_comparison_chart()`: é€‰è‚¡å¯¹æ¯”å›¾

### Streamlit Pages

**app.pyï¼ˆé¦–é¡µï¼‰**:
- ç³»ç»Ÿæ¦‚è§ˆï¼ˆé€‰è‚¡æ¬¡æ•°ã€æœ€æ–°æ—¥æœŸã€æŒä»“çŠ¶æ€ï¼‰
- æœ€æ–°é€‰è‚¡ç»“æœé¢„è§ˆ
- æŒä»“æ¦‚è§ˆ
- å¿«é€Ÿæ“ä½œæŒ‰é’®

**pages/1_ğŸ“Š_æ¯æ—¥é€‰è‚¡.py**:
- å‚æ•°é…ç½®ï¼ˆé¢„ç®—ã€å€™é€‰æ± ã€åŠ¨é‡é˜ˆå€¼ï¼‰
- æ‰§è¡Œé€‰è‚¡
- ç»“æœå±•ç¤ºï¼ˆå€™é€‰è‚¡ç¥¨ã€æŒä»“å»ºè®®ã€ä¸å¯è´Ÿæ‹…ï¼‰
- å†å²è®°å½•æŸ¥è¯¢
- æ•°æ®å¯¼å‡º

**pages/2_ğŸ’¼_æ¨¡æ‹Ÿç›˜.py**:
- åˆ›å»º/é‡ç½®è™šæ‹ŸæŒä»“
- æ‰§è¡Œå†å¹³è¡¡
- æŒä»“æ˜ç»†å±•ç¤º
- äº¤æ˜“å†å²æŸ¥è¯¢
- æ”¶ç›Šåˆ†æ
- æ•°æ®å¯¼å‡º

## ğŸ”§ è®¾è®¡åŸåˆ™

### 1. é›¶ä¿®æ”¹å¤ç”¨

**åŸåˆ™**: ä¸ä¿®æ”¹ä»»ä½•ç°æœ‰è„šæœ¬ï¼ˆscripts/ï¼‰

**å®ç°**:
- `backend/selector_api.py` é€šè¿‡ `import` ç›´æ¥å¤ç”¨å‡½æ•°
- `suppress_prints()` ä¸Šä¸‹æ–‡ç®¡ç†å™¨å±è”½æ§åˆ¶å°è¾“å‡º
- APIå±‚å°è£…è¿”å›æ ‡å‡†åŒ–æ•°æ®ç»“æ„

### 2. æ•°æ®ç»Ÿä¸€ç®¡ç†

**åŸåˆ™**: æ‰€æœ‰æ–°æ•°æ®å†™å…¥ç»Ÿä¸€çš„ `data/` ç›®å½•

**å®ç°**:
- `backend/config.py` ç»Ÿä¸€å®šä¹‰æ‰€æœ‰è·¯å¾„
- è‡ªåŠ¨åˆ›å»ºç›®å½•ç»“æ„
- å†å²ç›®å½•ï¼ˆresults/ï¼‰å‘åå…¼å®¹

### 3. å…³æ³¨ç‚¹åˆ†ç¦»

**åŸåˆ™**: UIã€ä¸šåŠ¡é€»è¾‘ã€æ•°æ®è®¿é—®åˆ†å±‚

**å®ç°**:
- Backendå±‚ï¼šçº¯Pythonä¸šåŠ¡é€»è¾‘ï¼Œä¸ä¾èµ–Streamlit
- Componentså±‚ï¼šå¯å¤ç”¨UIç»„ä»¶
- Pageså±‚ï¼šç»„è£…ç»„ä»¶å’Œä¸šåŠ¡é€»è¾‘

### 4. APIå¯ç‹¬ç«‹è°ƒç”¨

**åŸåˆ™**: åç«¯APIå¯åœ¨éStreamlitç¯å¢ƒä½¿ç”¨

**ç¤ºä¾‹**:
```python
# ç‹¬ç«‹Pythonè„šæœ¬ä¸­ä½¿ç”¨
from backend.selector_api import get_daily_selection
from backend.portfolio_manager import VirtualPortfolio

# æ‰§è¡Œé€‰è‚¡
result = get_daily_selection(budget=100000, top_n=5)

# åˆ›å»ºæŒä»“
portfolio = VirtualPortfolio(initial_cash=100000)
portfolio.rebalance(result['allocation']['positions'])
```

## ğŸ” å®‰å…¨æ€§è€ƒè™‘

1. **æ•°æ®éš”ç¦»**: è™šæ‹Ÿç›˜æ•°æ®ä¸å›æµ‹æ•°æ®åˆ†ç¦»
2. **æœ¬åœ°å­˜å‚¨**: æ‰€æœ‰æ•°æ®æœ¬åœ°JSONæ–‡ä»¶ï¼Œæ— å¤–éƒ¨ä¾èµ–
3. **æ— æ•æ„Ÿä¿¡æ¯**: ä¸æ¶‰åŠçœŸå®èµ„é‡‘æˆ–åˆ¸å•†å‡­è¯

## âš¡ æ€§èƒ½ä¼˜åŒ–

1. **ç¼“å­˜æœºåˆ¶**: HS300æˆåˆ†è‚¡ç¼“å­˜7å¤©
2. **å»¶è¿ŸåŠ è½½**: Portfolioå¯¹è±¡å»¶è¿Ÿå®ä¾‹åŒ–
3. **æ•°æ®åˆ†é¡µ**: äº¤æ˜“å†å²æ”¯æŒlimitå‚æ•°
4. **è½¯é“¾æ¥**: latest.json é¿å…é‡å¤è¯»å–

## ğŸ§ª æµ‹è¯•ç­–ç•¥

**å•å…ƒæµ‹è¯•**ï¼ˆbackendæ¨¡å—ï¼‰:
- `test_streamlit_backend.py` éªŒè¯æ‰€æœ‰æ¨¡å—å¯¼å…¥
- æ¯ä¸ªæ¨¡å—è‡ªå¸¦ `if __name__ == "__main__"` æµ‹è¯•

**é›†æˆæµ‹è¯•**ï¼ˆç”¨æˆ·æ‰‹åŠ¨ï¼‰:
- æ‰§è¡Œé€‰è‚¡ â†’ æ£€æŸ¥ data/daily/
- åˆ›å»ºæŒä»“ â†’ æ£€æŸ¥ data/portfolio/
- æ‰§è¡Œå†å¹³è¡¡ â†’ æ£€æŸ¥äº¤æ˜“æ—¥å¿—

**ç«¯åˆ°ç«¯æµ‹è¯•**ï¼ˆStreamlit UIï¼‰:
- æµè§ˆå™¨æ‰“å¼€å„é¡µé¢
- ç‚¹å‡»æ‰€æœ‰æŒ‰é’®åŠŸèƒ½
- å¯¼å‡ºCSVæ–‡ä»¶

## ğŸ“Š æ‰©å±•æ€§

**Phase 2Cï¼ˆæ¨é€é€šçŸ¥ï¼‰**:
- æ–°å¢ `backend/notifier.py`
- æ— éœ€ä¿®æ”¹ç°æœ‰ä»£ç 

**Phase 3ï¼ˆå®ç›˜æ¥å£ï¼‰**:
- æ–°å¢ `backend/broker_api.py`
- portfolio_manager æ”¯æŒçœŸå®äº¤æ˜“æ¨¡å¼

**UIå¢å¼º**:
- æ›¿æ¢ components/ ä¸­çš„å›¾è¡¨å®ç°
- ä¸å½±å“backendå±‚

---

**ç‰ˆæœ¬**: Phase 2 MVP
**æ¶æ„è®¾è®¡**: ä¸‰å±‚æ¶æ„ï¼ˆUI / Business / Dataï¼‰
**è®¾è®¡å“²å­¦**: KISSï¼ˆKeep It Simple, Stupidï¼‰
